"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var core_1 = require("@angular/core");
var http_1 = require("@angular/http");
var http_2 = require("@angular/http");
var _1 = require("rxjs/");
var ItemService = (function () {
    function ItemService(http) {
        this.http = http;
        this.url = "https://tools.brandinstitute.com/wsbi/bimobile.asmx/getAppointments";
        this._appointments = new _1.BehaviorSubject([]);
        this.monthNames = ["Jan", "Febr", "Mar", "Apr", "May", "Jun",
            "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"
        ];
        this._appointments = new _1.BehaviorSubject([]);
        this.appointments = this._appointments.asObservable();
    }
    ItemService.prototype.getAppointments = function () {
        var _this = this;
        var headers = new http_1.Headers({ 'content-type': 'application/x-www-form-urlencoded' });
        var body = new http_2.URLSearchParams();
        body.set('phoneId', "3057427989");
        body.set('phoneIdType', "1111111111");
        body.set('selDate', "10/16/2017");
        return this.http.post(this.url, body.toString(), { headers: headers }).map(function (res) {
            var data = res.json();
            res.json().map(function (obj) {
                var dateTime = new Date(obj.AppDate);
                obj.AppDate = dateTime.getDate().toString() + ',' + _this.monthNames[dateTime.getMonth()].toString() + '-' +
                    +((dateTime.getHours() + 24 - 2) % 24).toString() + ':'
                    + dateTime.getMinutes().toString() + ((dateTime.getHours() >= 12) ? " PM" : " AM").toString();
            });
            return data;
        });
    };
    ItemService.prototype.getAppointment = function (id) {
        return this.appointments.filter(function (appointment) { return appointment[0].AppDate === "10/16/2017"; })[0];
    };
    ItemService = __decorate([
        core_1.Injectable(),
        __metadata("design:paramtypes", [http_1.Http])
    ], ItemService);
    return ItemService;
}());
exports.ItemService = ItemService;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaXRlbS5zZXJ2aWNlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiaXRlbS5zZXJ2aWNlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsc0NBQTBDO0FBQzFDLHNDQUF3RDtBQUN4RCxzQ0FBK0M7QUFDL0MsMEJBQW9EO0FBT3BEO0lBVUkscUJBQW9CLElBQVU7UUFBVixTQUFJLEdBQUosSUFBSSxDQUFNO1FBVHRCLFFBQUcsR0FBRyxxRUFBcUUsQ0FBQTtRQUUzRSxrQkFBYSxHQUFtQyxJQUFJLGtCQUFlLENBQUMsRUFBRSxDQUFDLENBQUM7UUFJdEUsZUFBVSxHQUFHLENBQUMsS0FBSyxFQUFFLE1BQU0sRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxLQUFLO1lBQy9ELEtBQUssRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUUsS0FBSztTQUN6QyxDQUFDO1FBRUUsSUFBSSxDQUFDLGFBQWEsR0FBbUMsSUFBSSxrQkFBZSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQzdFLElBQUksQ0FBQyxZQUFZLEdBQUcsSUFBSSxDQUFDLGFBQWEsQ0FBQyxZQUFZLEVBQUUsQ0FBQztJQUMxRCxDQUFDO0lBRUQscUNBQWUsR0FBZjtRQUFBLGlCQWlCQztRQWhCRyxJQUFJLE9BQU8sR0FBRyxJQUFJLGNBQU8sQ0FBQyxFQUFDLGNBQWMsRUFBRSxtQ0FBbUMsRUFBQyxDQUFDLENBQUM7UUFDakYsSUFBSSxJQUFJLEdBQUcsSUFBSSxzQkFBZSxFQUFFLENBQUM7UUFDakMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxTQUFTLEVBQUUsWUFBWSxDQUFDLENBQUM7UUFDbEMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxhQUFhLEVBQUUsWUFBWSxDQUFDLENBQUM7UUFDdEMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxTQUFTLEVBQUUsWUFBWSxDQUFDLENBQUM7UUFFbkMsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLEVBQUUsSUFBSSxDQUFDLFFBQVEsRUFBRSxFQUFFLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxDQUFDLENBQUMsR0FBRyxDQUFDLFVBQUEsR0FBRztZQUN6RSxJQUFJLElBQUksR0FBRyxHQUFHLENBQUMsSUFBSSxFQUFFLENBQUM7WUFDdEIsR0FBRyxDQUFDLElBQUksRUFBRSxDQUFDLEdBQUcsQ0FBQyxVQUFDLEdBQVM7Z0JBQ3JCLElBQUksUUFBUSxHQUFHLElBQUksSUFBSSxDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUMsQ0FBQztnQkFDckMsR0FBRyxDQUFDLE9BQU8sR0FBRyxRQUFRLENBQUMsT0FBTyxFQUFFLENBQUMsUUFBUSxFQUFFLEdBQUcsR0FBRyxHQUFHLEtBQUksQ0FBQyxVQUFVLENBQUMsUUFBUSxDQUFDLFFBQVEsRUFBRSxDQUFDLENBQUMsUUFBUSxFQUFFLEdBQUcsR0FBRztvQkFDeEcsQ0FBRSxDQUFDLENBQUMsUUFBUSxDQUFDLFFBQVEsRUFBRSxHQUFHLEVBQUUsR0FBRyxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxRQUFRLEVBQUUsR0FBRyxHQUFHO3NCQUN0RCxRQUFRLENBQUMsVUFBVSxFQUFFLENBQUMsUUFBUSxFQUFFLEdBQUcsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxRQUFRLEVBQUUsSUFBSSxFQUFFLENBQUMsR0FBRyxLQUFLLEdBQUcsS0FBSyxDQUFDLENBQUMsUUFBUSxFQUFFLENBQUU7WUFDcEcsQ0FBQyxDQUFDLENBQUM7WUFDSCxNQUFNLENBQUMsSUFBSSxDQUFDO1FBQ2hCLENBQUMsQ0FBQyxDQUFDO0lBQ1AsQ0FBQztJQUVELG9DQUFjLEdBQWQsVUFBZSxFQUFVO1FBQ3JCLE1BQU0sQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLE1BQU0sQ0FBQyxVQUFBLFdBQVcsSUFBSSxPQUFBLFdBQVcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxPQUFPLEtBQUssWUFBWSxFQUF2QyxDQUF1QyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDL0YsQ0FBQztJQXBDUSxXQUFXO1FBRHZCLGlCQUFVLEVBQUU7eUNBV2lCLFdBQUk7T0FWckIsV0FBVyxDQXFDdkI7SUFBRCxrQkFBQztDQUFBLEFBckNELElBcUNDO0FBckNZLGtDQUFXIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSW5qZWN0YWJsZSB9IGZyb20gXCJAYW5ndWxhci9jb3JlXCJcbmltcG9ydCB7IEh0dHAsIFJlc3BvbnNlLCBIZWFkZXJzIH0gZnJvbSBcIkBhbmd1bGFyL2h0dHBcIjtcbmltcG9ydCB7IFVSTFNlYXJjaFBhcmFtcyB9IGZyb20gXCJAYW5ndWxhci9odHRwXCJcbmltcG9ydCB7IEJlaGF2aW9yU3ViamVjdCwgT2JzZXJ2YWJsZSB9IGZyb20gJ3J4anMvJztcbmltcG9ydCB7IEFwcG9pbnRtZW50IH0gZnJvbSBcIi4vYXBwb2ludG1lbnQubW9kZWxcIjtcblxuXG5pbXBvcnQgeyBJdGVtIH0gZnJvbSBcIi4vaXRlbVwiO1xuXG5ASW5qZWN0YWJsZSgpXG5leHBvcnQgY2xhc3MgSXRlbVNlcnZpY2Uge1xuICAgIHByaXZhdGUgdXJsID0gXCJodHRwczovL3Rvb2xzLmJyYW5kaW5zdGl0dXRlLmNvbS93c2JpL2JpbW9iaWxlLmFzbXgvZ2V0QXBwb2ludG1lbnRzXCJcbiAgICBwdWJsaWMgYXBwb2ludG1lbnRzOiBPYnNlcnZhYmxlPEFwcG9pbnRtZW50W10+O1xuICAgIHByaXZhdGUgX2FwcG9pbnRtZW50cyA9IDxCZWhhdmlvclN1YmplY3Q8QXBwb2ludG1lbnRbXT4+bmV3IEJlaGF2aW9yU3ViamVjdChbXSk7XG4gICAgcHJpdmF0ZSBkYXRhU3RvcmU6IHtcbiAgICAgICAgYXBwb2ludG1lbnRzOiBBcHBvaW50bWVudFtdXG4gICAgICB9O1xuICAgICAgcHJpdmF0ZSBtb250aE5hbWVzID0gW1wiSmFuXCIsIFwiRmViclwiLCBcIk1hclwiLCBcIkFwclwiLCBcIk1heVwiLCBcIkp1blwiLFxuICAgICAgXCJKdWxcIiwgXCJBdWdcIiwgXCJTZXBcIiwgXCJPY3RcIiwgXCJOb3ZcIiwgXCJEZWNcIlxuICAgIF07XG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBodHRwOiBIdHRwKSB7IFxuICAgICAgICB0aGlzLl9hcHBvaW50bWVudHMgPSA8QmVoYXZpb3JTdWJqZWN0PEFwcG9pbnRtZW50W10+Pm5ldyBCZWhhdmlvclN1YmplY3QoW10pO1xuICAgICAgICB0aGlzLmFwcG9pbnRtZW50cyA9IHRoaXMuX2FwcG9pbnRtZW50cy5hc09ic2VydmFibGUoKTtcbiAgICB9XG5cbiAgICBnZXRBcHBvaW50bWVudHMoKTogT2JzZXJ2YWJsZTxBcnJheTxBcHBvaW50bWVudD4+IHtcbiAgICAgICAgbGV0IGhlYWRlcnMgPSBuZXcgSGVhZGVycyh7J2NvbnRlbnQtdHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnfSk7XG4gICAgICAgIGxldCBib2R5ID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgICAgICBib2R5LnNldCgncGhvbmVJZCcsIFwiMzA1NzQyNzk4OVwiKTtcbiAgICAgICAgYm9keS5zZXQoJ3Bob25lSWRUeXBlJywgXCIxMTExMTExMTExXCIpO1xuICAgICAgICBib2R5LnNldCgnc2VsRGF0ZScsIFwiMTAvMTYvMjAxN1wiKTtcblxuICAgICAgIHJldHVybiB0aGlzLmh0dHAucG9zdCh0aGlzLnVybCwgYm9keS50b1N0cmluZygpLCB7IGhlYWRlcnM6IGhlYWRlcnMgfSkubWFwKHJlcyA9PiB7ICAgICAgICAgICBcbiAgICAgICAgICAgIGxldCBkYXRhID0gcmVzLmpzb24oKTtcbiAgICAgICAgICAgIHJlcy5qc29uKCkubWFwKChvYmogOiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgZGF0ZVRpbWUgPSBuZXcgRGF0ZShvYmouQXBwRGF0ZSk7XG4gICAgICAgICAgICAgICAgb2JqLkFwcERhdGUgPSBkYXRlVGltZS5nZXREYXRlKCkudG9TdHJpbmcoKSArICcsJyArIHRoaXMubW9udGhOYW1lc1tkYXRlVGltZS5nZXRNb250aCgpXS50b1N0cmluZygpICsgJy0nICtcbiAgICAgICAgICAgICAgICAgKyAoKGRhdGVUaW1lLmdldEhvdXJzKCkgKyAyNCAtIDIpICUgMjQpLnRvU3RyaW5nKCkgKyAnOicgXG4gICAgICAgICAgICAgICAgICsgZGF0ZVRpbWUuZ2V0TWludXRlcygpLnRvU3RyaW5nKCkgKyAoKGRhdGVUaW1lLmdldEhvdXJzKCkgPj0gMTIpID8gXCIgUE1cIiA6IFwiIEFNXCIpLnRvU3RyaW5nKCkgOyAgICAgICAgICAgIFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gZGF0YTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIFxuICAgIGdldEFwcG9pbnRtZW50KGlkOiBudW1iZXIpOiBBcHBvaW50bWVudCB7XG4gICAgICAgIHJldHVybiB0aGlzLmFwcG9pbnRtZW50cy5maWx0ZXIoYXBwb2ludG1lbnQgPT4gYXBwb2ludG1lbnRbMF0uQXBwRGF0ZSA9PT0gXCIxMC8xNi8yMDE3XCIpWzBdO1xuICAgIH1cbn1cbiJdfQ==